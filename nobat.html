<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ—“ï¸ Ù†ÙˆØ¨Øªâ€ŒØ¯Ù‡ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ† | Ù…Ø±Ú©Ø² Ø°Ù‡Ù† Ø¢Ú¯Ø§Ù‡</title>
    
    <style>
        /* ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¹Ù…ÙˆÙ…ÛŒ Ùˆ ÙÙˆÙ†Øª ÙØ§Ø±Ø³ÛŒ */
        body {
            direction: rtl; 
            font-family: Tahoma, 'B Koodak', sans-serif; 
            margin: 0;
            padding: 0;
            background-color: #f0f4f7;
            color: #333;
        }

        /* Ù‡Ø¯Ø± ÙˆØ¨Ø³Ø§ÛŒØª */
        .header {
            background-color: #006f79; 
            color: white;
            padding: 30px 20px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        .header h1 { margin: 0 0 5px 0; font-size: 2.2rem; letter-spacing: 1px; }
        .header p { font-size: 1rem; opacity: 0.9; }

        /* Ù…Ø­ÙØ¸Ù‡ Ø§ØµÙ„ÛŒ Ùˆ Ú©Ø§Ø±Øª Ù†ÙˆØ¨Øª Ø¯Ù‡ÛŒ */
        .container {
            max-width: 600px;
            margin: 40px auto;
            padding: 0 20px;
        }
        
        .section-card {
            padding: 30px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
        }

        .section-card h2 {
            color: #00796b;
            border-bottom: 2px solid #e0f2f1;
            padding-bottom: 15px;
            margin-top: 0;
            text-align: center;
        }

        /* Ø§Ø³ØªØ§ÛŒÙ„ ÙØ±Ù… Ù†ÙˆØ¨Øªâ€ŒØ¯Ù‡ÛŒ */
        .form-group {
            margin-bottom: 20px;
        }
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #004d40;
        }
        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #b2dfdb;
            border-radius: 6px;
            box-sizing: border-box;
            transition: border-color 0.3s;
        }
        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            border-color: #00796b;
            outline: none;
            box-shadow: 0 0 5px rgba(0, 121, 107, 0.3);
        }

        /* Ø§Ø³ØªØ§ÛŒÙ„ Ø¯Ú©Ù…Ù‡ */
        .btn-submit {
            background-color: #00796b;
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1rem;
            transition: background-color 0.3s, transform 0.1s;
            width: 100%;
        }
        .btn-submit:hover {
            background-color: #004d40;
            transform: translateY(-2px);
        }
        .btn-submit:disabled {
            background-color: #a7a7a7;
            cursor: not-allowed;
        }

        /* Ø§Ø³ØªØ§ÛŒÙ„ Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ */
        .message-box {
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            text-align: center;
        }
        .message-success {
            background-color: #e8f5e9;
            color: #2e7d32;
            border: 1px solid #a5d6a7;
            font-weight: bold;
        }
        .message-error {
            background-color: #ffebee;
            color: #c62828;
            border: 1px solid #ef9a9a;
            font-weight: bold;
        }

        /* Ú©Ø§Ø±Øª Ù†ÙˆØ¨Øª Ø¯Ù‡ÛŒ ØªØ§ÛŒÛŒØ¯ÛŒÙ‡ */
        .appointment-card {
            border: 2px solid #00796b;
            border-radius: 12px;
            padding: 20px;
            margin-top: 25px;
            background-color: #f0ffff;
            box-shadow: 0 4px 10px rgba(0, 121, 107, 0.1);
            text-align: right; 
        }
        .appointment-card h3 {
            color: #004d40;
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.4rem;
        }
        .appointment-card div {
            padding: 8px 0;
            border-bottom: 1px dashed #b2dfdb;
            display: flex;
            justify-content: space-between;
        }
        .appointment-card div:last-child {
            border-bottom: none;
        }
        .appointment-card strong {
            color: #00796b;
        }

        /* ÙÙˆØªØ± */
        .footer { text-align: center; padding: 20px; background-color: #333; color: white; margin-top: 40px; font-size: 0.9rem; }
    </style>
</head>
<body>
    <header class="header">
        <h1>ğŸ—“ï¸ Ø³ÛŒØ³ØªÙ… Ù†ÙˆØ¨Øªâ€ŒØ¯Ù‡ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ† (Ù†Ù…ÙˆÙ†Ù‡ Ø§ÛŒØ³ØªØ§)</h1>
        <p>Ù„Ø·ÙØ§Ù‹ ÙØ±Ù… Ø²ÛŒØ± Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø±Ø²Ø±Ùˆ Ù†ÙˆØ¨Øª ØªÚ©Ù…ÛŒÙ„ Ú©Ù†ÛŒØ¯. Ø§ÛŒÙ† Ø³ÛŒØ³ØªÙ… Ù…ØªÚ©ÛŒ Ø¨Ø± Ø§ÛŒÙ†ØªØ±Ù†Øª Ù†ÛŒØ³Øª.</p>
    </header>

    <main class="container">
        <section id="appointment-section" class="section-card">
            <h2>Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ù†ÙˆØ¨Øª Ù…Ø´Ø§ÙˆØ±Ù‡ Ø­Ø¶ÙˆØ±ÛŒ</h2>
            <!-- Ù¾ÛŒØ§Ù… ÙˆØ¶Ø¹ÛŒØª Ø§ØªØµØ§Ù„ Ø­Ø°Ù Ø´Ø¯ -->

            <form id="booking-form">
                <div class="form-group">
                    <label for="fullName">Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ:</label>
                    <input type="text" id="fullName" placeholder="Ù…Ø§Ù†Ù†Ø¯: Ø¹Ù„ÛŒ Ø­Ø³ÛŒÙ†ÛŒ" required>
                </div>
                <div class="form-group">
                    <label for="phoneNumber">Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³:</label>
                    <input type="tel" id="phoneNumber" placeholder="Û°Û¹Û±Û²xxxxxxx" required>
                </div>
                <div class="form-group">
                    <label for="description">ØªÙˆØ¶ÛŒØ­ Ú©ÙˆØªØ§Ù‡ Ø¯Ø± Ù…ÙˆØ±Ø¯ Ù…Ø´Ú©Ù„ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ):</label>
                    <textarea id="description" rows="3" placeholder="Ù…Ø«Ù„Ø§Ù‹: Ø§Ø¶Ø·Ø±Ø§Ø¨ Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ"></textarea>
                </div>
                
                <!-- Ø¯Ú©Ù…Ù‡ Ø±Ø²Ø±Ùˆ Ú©Ù‡ Ù…Ø³ØªÙ‚ÛŒÙ…Ø§Ù‹ ÙØ¹Ø§Ù„ Ø§Ø³Øª -->
                <button type="submit" class="btn-submit" id="book-button">Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ù†ÙˆØ¨Øª Ù…Ø´Ø§ÙˆØ±Ù‡</button>
                
                <div id="booking-message"></div>
            </form>
        </section>
    </main>

     <footer class="footer">
        <p>Ù…Ø­Ù…Ø¯ Ø¬Ù„ÛŒÙ„ÙˆÙ†Ø¯ | ØªÙ„ÙÙ†: 09021385669 | &copy; Ú©Ù„ÛŒÙ‡ Ø­Ù‚ÙˆÙ‚ Ø¨Ø±Ø§ÛŒ Ø´Ø±Ú©Øª ÙÙ†Ø§ÙˆØ±Ø§Ù† Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø§Ù„Ù…Ø§Ø³ Ù¾Ø§Ø±Ø³ Ù…Ø­ÙÙˆØ¸ Ø§Ø³Øª.</p>
    </footer>

    <!-- Ù…Ù†Ø·Ù‚ Ø¬Ø§ÙˆØ§Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ø§ÛŒØ³ØªØ§ (Ø¨Ø¯ÙˆÙ† Firebase) -->
    <script>
        // Ø¹Ù†Ø§ØµØ± UI
        const bookingForm = document.getElementById('booking-form');
        const bookButton = document.getElementById('book-button');
        const bookingMessageElement = document.getElementById('booking-message');
        
        // --- Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø«Ø§Ø¨Øª Ù†ÙˆØ¨Øªâ€ŒØ¯Ù‡ÛŒ ---
        const APPOINTMENT_ADDRESS = "Ø´ÛŒØ±Ø§Ø² . Ø®ÛŒØ§Ø¨Ø§Ù† Ù…Ù„Ø§ØµØ¯Ø±Ø§ .Ø³Ø§Ø®ØªÙ…Ø§Ù† Ù…Ù‡Ø± Ø·Ø¨Ù‚Ù‡ 2";
        const APPOINTMENT_TIMES = ["10:00", "11:00", "12:00", "15:00", "16:00"]; // Ø³Ø§Ø¹Ø§Øª Ú©Ø§Ø±ÛŒ
        // Ø±ÙˆØ²Ù‡Ø§ÛŒ Ú©Ø§Ø±ÛŒ (0=ÛŒÚ©Ø´Ù†Ø¨Ù‡ ØªØ§ 6=Ø´Ù†Ø¨Ù‡). 1 ØªØ§ 4 ÛŒØ¹Ù†ÛŒ Ø¯ÙˆØ´Ù†Ø¨Ù‡ ØªØ§ Ù¾Ù†Ø¬â€ŒØ´Ù†Ø¨Ù‡
        const WORKING_DAYS = [1, 2, 3, 4]; 


        // 1. ØªÙˆØ§Ø¨Ø¹ Ú©Ù…Ú©ÛŒ ØªØ§Ø±ÛŒØ®
        function toJalali(gregorianDate) {
            // Ù†Ù…Ø§ÛŒØ´ ØªØ§Ø±ÛŒØ® Ø´Ù…Ø³ÛŒ Ø¨Ø§ Ø¬Ø²Ø¦ÛŒØ§Øª Ø±ÙˆØ² Ùˆ Ù…Ø§Ù‡
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            return gregorianDate.toLocaleDateString('fa-IR', options);
        }

        function isWorkingDay(date) {
            const dayOfWeek = date.getDay(); 
            return WORKING_DAYS.includes(dayOfWeek);
        }

        function addDays(date, days) {
            const result = new Date(date);
            result.setDate(result.getDate() + days);
            return result;
        }
        
        // 2. ØªØ§Ø¨Ø¹ Ø³Ø§Ø®Øª Ú©Ø¯ Ø¹Ø¯Ø¯ÛŒ Ù†ÙˆØ¨Øª (Ø§ÛŒØ³ØªØ§)
        function generateNumericId(length = 6) {
            let result = '';
            const characters = '0123456789';
            const charactersLength = characters.length;
            for (let i = 0; i < length; i++) {
                // Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ Ø±Ù‚Ù… Ø§ÙˆÙ„ ØµÙØ± Ù†Ø¨Ø§Ø´Ø¯ ØªØ§ Ø·ÙˆÙ„ Ø±Ø´ØªÙ‡ Ø­ÙØ¸ Ø´ÙˆØ¯
                if (i === 0) {
                    result += characters.charAt(Math.floor(Math.random() * 9) + 1); 
                } else {
                    result += characters.charAt(Math.floor(Math.random() * charactersLength));
                }
            }
            return result;
        }

        // 3. Ù…Ù†Ø·Ù‚ Ø§ØµÙ„ÛŒ ØªØ®ØµÛŒØµ Ù†ÙˆØ¨Øª (Ø§ÛŒØ³ØªØ§ - Ù‡Ù…ÛŒØ´Ù‡ Ø§Ø² Ø²Ù…Ø§Ù† ÙØ¹Ù„ÛŒ Ø´Ø±ÙˆØ¹ Ù…ÛŒâ€ŒÚ©Ù†Ø¯)
        function getNextAvailableSlot() {
            let currentDate = new Date();
            currentDate.setSeconds(0, 0); 
            
            let nextTimeIndex = 0;
            
            // Ø§Ø¨ØªØ¯Ø§ Ø³Ø§Ø¹Øª Ø¬Ø§Ø±ÛŒ Ø±Ø§ Ø¯Ø± Ù„ÛŒØ³Øª Ù¾ÛŒØ¯Ø§ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ… ØªØ§ Ø§Ø² Ø²Ù…Ø§Ù† Ø­Ø§Ù„ Ø´Ø±ÙˆØ¹ Ú©Ù†ÛŒÙ…
            const currentTime = currentDate.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', hour12: false });
            // Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ø§ÙˆÙ„ÛŒÙ† Ø³Ø§Ø¹ØªÛŒ Ú©Ù‡ Ø§Ø² Ø²Ù…Ø§Ù† ÙØ¹Ù„ÛŒ Ú¯Ø°Ø´ØªÙ‡ Ø§Ø³Øª
            nextTimeIndex = APPOINTMENT_TIMES.findIndex(time => {
                const [h, m] = time.split(':').map(Number);
                const proposedDate = new Date(currentDate);
                proposedDate.setHours(h, m, 0, 0);
                return proposedDate.getTime() > new Date().getTime();
            });
            
            // Ø§Ú¯Ø± Ø¯Ø± Ø§Ù…Ø±ÙˆØ² Ø³Ø§Ø¹ØªÛŒ Ù¾ÛŒØ¯Ø§ Ù†Ø´Ø¯ØŒ Ø§Ø² Ø§ÙˆÙ„ÛŒÙ† Ø³Ø§Ø¹Øª Ø±ÙˆØ² Ú©Ø§Ø±ÛŒ Ø¨Ø¹Ø¯ÛŒ Ø´Ø±ÙˆØ¹ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…
            if (nextTimeIndex === -1) {
                currentDate = addDays(currentDate, 1);
                currentDate.setHours(0, 0, 0, 0);
                nextTimeIndex = 0;
            }


            // Ø­Ù„Ù‚Ù‡ Ø§ØµÙ„ÛŒ Ø¨Ø±Ø§ÛŒ Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ø±ÙˆØ² Ú©Ø§Ø±ÛŒ Ùˆ Ø³Ø§Ø¹Øª Ù…Ù†Ø§Ø³Ø¨
            while (true) {
                // Ø§Ú¯Ø± Ø³Ø§Ø¹Øª Ú©Ø§Ø±ÛŒ Ø±ÙˆØ² ØªÙ…Ø§Ù… Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ø¯ØŒ Ø¨Ù‡ Ø±ÙˆØ² Ø¨Ø¹Ø¯ Ù…ÛŒâ€ŒØ±ÙˆÛŒÙ…
                if (nextTimeIndex >= APPOINTMENT_TIMES.length) {
                    currentDate = addDays(currentDate, 1);
                    currentDate.setHours(0, 0, 0, 0);
                    nextTimeIndex = 0;
                }

                // Ø§Ú¯Ø± Ø±ÙˆØ² Ø¬Ø§Ø±ÛŒ Ø±ÙˆØ² Ú©Ø§Ø±ÛŒ Ù†Ø¨ÙˆØ¯ØŒ Ø¨Ù‡ Ø±ÙˆØ² Ø¨Ø¹Ø¯ Ù…ÛŒâ€ŒØ±ÙˆÛŒÙ…
                if (!isWorkingDay(currentDate)) {
                    currentDate = addDays(currentDate, 1);
                    currentDate.setHours(0, 0, 0, 0);
                    nextTimeIndex = 0; 
                    continue; 
                }
                
                const nextTime = APPOINTMENT_TIMES[nextTimeIndex];
                const [hour, minute] = nextTime.split(':').map(Number);
                
                // ØªØ§Ø±ÛŒØ® Ùˆ Ø²Ù…Ø§Ù† Ú©Ø§Ù…Ù„ Ù†ÙˆØ¨Øª Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ
                let proposedDate = new Date(currentDate);
                proposedDate.setHours(hour, minute, 0, 0);

                // Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ Ù†ÙˆØ¨Øª Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ Ø¯Ø± Ø¢ÛŒÙ†Ø¯Ù‡ Ø§Ø³Øª
                if (proposedDate.getTime() > new Date().getTime()) {
                    return proposedDate;
                }
                
                // Ø§Ú¯Ø± Ù†ÙˆØ¨Øª Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ Ú¯Ø°Ø´ØªÙ‡ØŒ Ø¨Ù‡ Ù†ÙˆØ¨Øª Ø¨Ø¹Ø¯ÛŒ Ø¯Ø± Ù‡Ù…Ø§Ù† Ø±ÙˆØ² Ù…ÛŒâ€ŒØ±ÙˆÛŒÙ…
                nextTimeIndex++;
            }
        }
        
        // 4. ØªØ§Ø¨Ø¹ Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØ§Ù…
        function displayMessage(element, message, type = 'success') {
            element.textContent = message;
            element.className = `message-box message-${type}`;
        }
        
        // 5. ØªØ§Ø¨Ø¹ Ø§ØµÙ„ÛŒ Ø±Ø²Ø±Ùˆ Ù†ÙˆØ¨Øª (Ú©Ø§Ù…Ù„Ø§ Ø§ÛŒØ³ØªØ§)
        async function bookAppointment(event) {
            event.preventDefault();
            
            // ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ø¯Ú©Ù…Ù‡ Ù‡Ù†Ú¯Ø§Ù… Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¨Ø±Ø§ÛŒ UX Ø¨Ù‡ØªØ±
            bookButton.disabled = true;
            bookButton.textContent = "Ø¯Ø± Ø­Ø§Ù„ Ø±Ø²Ø±Ùˆ...";
            bookingMessageElement.innerHTML = ''; 

            try {
                const fullName = document.getElementById('fullName').value;
                const phoneNumber = document.getElementById('phoneNumber').value;
                const description = document.getElementById('description').value;

                if (!fullName || !phoneNumber) {
                    throw new Error("Ù„Ø·ÙØ§Ù‹ Ù†Ø§Ù… Ú©Ø§Ù…Ù„ Ùˆ Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.");
                }

                // Ù…Ø±Ø­Ù„Ù‡ Ø§ÙˆÙ„: Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù†ÙˆØ¨Øª Ø¯Ø± Ø¯Ø³ØªØ±Ø³ Ø¨Ø¹Ø¯ÛŒ (Ø§ÛŒØ³ØªØ§)
                const nextDate = getNextAvailableSlot();

                // Ù…Ø±Ø­Ù„Ù‡ Ø¯ÙˆÙ…: Ø³Ø§Ø®ØªØ§Ø± Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù†ÙˆØ¨Øª Ø¬Ø¯ÛŒØ¯ (Ø§ÛŒØ³ØªØ§)
                const appointmentData = {
                    fullName,
                    phoneNumber,
                    description,
                    appointmentDate: nextDate, // Date Object
                    appointmentId: generateNumericId(6), // Ú©Ø¯ Ù†ÙˆØ¨Øª Û¶ Ø±Ù‚Ù…ÛŒ Ø¹Ø¯Ø¯ÛŒ Ø¬Ø¯ÛŒØ¯
                    address: APPOINTMENT_ADDRESS,
                };
                
                // Ù…Ø±Ø­Ù„Ù‡ Ø³ÙˆÙ…: Ù†Ù…Ø§ÛŒØ´ ØªØ§ÛŒÛŒØ¯ÛŒÙ‡
                displayMessage(bookingMessageElement, "Ù†ÙˆØ¨Øª Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø±Ø²Ø±Ùˆ Ø´Ø¯!", 'success');
                renderAppointmentCard(appointmentData);

            } catch (error) {
                console.error("Booking Error:", error);
                displayMessage(bookingMessageElement, `Ø®Ø·Ø§ Ø¯Ø± ØªÚ©Ù…ÛŒÙ„ ÙØ±Ù…: ${error.message}`, 'error');
            } finally {
                // ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ù…Ø¬Ø¯Ø¯ Ø¯Ú©Ù…Ù‡
                bookButton.disabled = false;
                bookButton.textContent = "Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ù†ÙˆØ¨Øª Ù…Ø´Ø§ÙˆØ±Ù‡";
            }
        }

        // 6. ØªØ§Ø¨Ø¹ Ø±Ù†Ø¯Ø± Ú©Ø§Ø±Øª ØªØ§ÛŒÛŒØ¯ÛŒÙ‡
        function renderAppointmentCard(data) {
            // data.appointmentDate Ø§Ú©Ù†ÙˆÙ† Ù‡Ù…ÛŒØ´Ù‡ ÛŒÚ© Ø¢Ø¨Ø¬Ú©Øª Date Ø§Ø³Øª
            const dateObj = data.appointmentDate; 
            const jalaliDate = toJalali(dateObj);
            const time = dateObj.toLocaleTimeString('fa-IR', { hour: '2-digit', minute: '2-digit', hour12: false }); 

            const cardHtml = `
                <div class="appointment-card">
                    <h3>âœ… ØªØ§ÛŒÛŒØ¯ Ù†ÙˆØ¨Øª Ø´Ù…Ø§</h3>
                    <div>
                        <span>Ú©Ø¯ Ù†ÙˆØ¨Øª:</span>
                        <strong>${data.appointmentId}</strong>
                    </div>
                    <div>
                        <span>Ù…Ø´Ø§ÙˆØ±:</span>
                        <span>Ø¯Ú©ØªØ± Ø³Ø§Ø±Ø§ Ø´ÙÛŒØ¹ÛŒ</span>
                    </div>
                    <div>
                        <span>ØªØ§Ø±ÛŒØ®:</span>
                        <span>${jalaliDate}</span>
                    </div>
                    <div>
                        <span>Ø³Ø§Ø¹Øª:</span>
                        <span>${time}</span>
                    </div>
                    <div>
                        <span>Ø¢Ø¯Ø±Ø³ Ù…Ø·Ø¨:</span>
                        <strong style="text-align: left;">${data.address}</strong>
                    </div>
                </div>
            `;
            bookingMessageElement.innerHTML += cardHtml;
        }

        // 7. Ø§ØªØµØ§Ù„ ÙØ±Ù… Ø¨Ù‡ ØªØ§Ø¨Ø¹ Ø±Ø²Ø±Ùˆ
        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('booking-form').addEventListener('submit', bookAppointment);
        });

    </script>
</body>
</html>
